[wpn_pkm]:identity_immunities,weapon_probability,default_weapon_params,wpn_pkm_sounds
GroupControlSection     = spawn_group
$spawn                                                = "weapons\pkm"                ; option for Level Editor
$npc                    = on                                ; option for Level Editor
$prefetch               = 8
scheduled               = off                                ; option for ALife Simulator
cform                   = skeleton
class                   = WP_AK74
min_radius = 0 ;              = 30
max_radius = 500 ; = 250 ;              = 100
description             = st_wpn_rp_descr

ef_main_weapon_type     = 2
ef_weapon_type          = 10

default_to_ruck			= true
sprint_allowed          = true ;false

repair_type = rifle
condition_avail = 2030043135
;-------------------------------------------------------
cost                    = 120000
weapon_class            = assault_rifle        ; Type of the weapon
inv_weight              = 7.5

upgrades                = up_gr_firstab_pkm, up_gr_seconab_pkm, up_gr_thirdab_pkm, up_gr_fourtab_pkm, up_gr_fifthab_pkm
installed_upgrades      =
upgrade_scheme          = upgrade_scheme_pkm

;--TTX----------------------------------------------------------------------------
hit_power              = 0.80, 0.80, 0.80, 0.80
hit_impulse            = 40
hit_type               = fire_wound
fire_distance           = 1500
bullet_speed            = 825        ;начальная скорость пули
rpm                     = 650
rpm_empty_click         = 200

use_aim_bullet          = false ;true                ;Поддерживается ли первая суппер пуля
time_to_aim             = 5.0

hud                     = wpn_pkm_hud

misfire_start_condition		= 0.75
misfire_end_condition		= 0.25
misfire_start_prob              = 0.01 
misfire_end_prob                = 0.1 
condition_shot_dec      	= 0.00055
condition_queue_shot_dec	= 0.00055

ammo_elapsed            = 100
ammo_mag_size           = 100

ammo_class              = ammo_pkm_100, ammo_7.62x54_ap 
grenade_class           = ammo_m209
fire_modes              = -1, 1
launch_speed            = 0
hand_dependence         = 1
single_handed           = 0

;-дисперсия-----------------------------------------------------------------------------
;базовая дисперсия
fire_dispersion_base    = 0.4     ;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor = 1
crosshair_inertion		= 9.3

;отдача
cam_return				= 0
cam_relax_speed         = 13               ;скорость возврата в исходное положение
cam_relax_speed_ai      = 360                ;скорость возврата в исходное положение у АИ
cam_dispersion          = 0.5                ;увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc      = 0.5               ;увеличениe cam_dispersion с каждым выстрелом
cam_dispersion_frac     = 1                ;ствол будет подыматься на cam_dispersion*cam_dispersion_frac +- cam_dispersion*(1-cam_dispersion_frac)
cam_max_angle           = 50.0                ;максимальный угол отдачи
cam_max_angle_horz      = 50.0                ;(degree) maximum shot horizontal degree
cam_step_angle_horz     = 2.1                    ;(degree) size of step camera moved in horizontal position while shooting

PDM_disp_base 				= 1.25
PDM_disp_vel_factor 		= 2.4
PDM_disp_accel_factor 		= 2.4
PDM_disp_crouch = 1.0 ;  			= 1.155
PDM_disp_crouch_no_acc = 1.0 ; 		= 1.425

zoom_cam_relax_speed         = 10	    ; scope & ironsight
zoom_cam_relax_speed_ai      = 360
zoom_cam_dispersion          = 2
zoom_cam_dispersion_inc      = 1
zoom_cam_dispersion_frac     = 1.0
zoom_cam_max_angle           = 50.0
zoom_cam_max_angle_horz      = 50.0
zoom_cam_step_angle_horz     = 1.93

fire_dispersion_condition_factor = 15        ;увеличение дисперсии в процентах при максимальном износе

;---DOF------------------------------------------------------------------------
zoom_dof                = 0.5, 1.0, 180
reload_dof              = 0.0, 0.5, 5, 1.7
;-------------------------------------------------------------------------------
holder_range_modifier   = 1.0                       ; во сколько раз увеличивается eye_range
holder_fov_modifier     = 1.0                       ; во сколько раз увеличивается eye_fov

min_radius = 0 ;              = 30
max_radius = 500 ; = 250 ;              = 100

hit_probability_gd_novice = 1.00 ;  = 0.80
hit_probability_gd_stalker = 1.00 ; = 0.80
hit_probability_gd_veteran = 1.00 ; = 0.80
hit_probability_gd_master = 1.00 ;  = 0.80

;-------------------------------------------------------------------------------
slot                    = 2                ; // secondary
animation_slot          = 2                ; type of the animation that will be used

inv_name                = st_wpn_rp
inv_name_short          = st_wpn_rp

inv_grid_width          = 6
inv_grid_height         = 2
inv_grid_x              = 44
inv_grid_y              = 46

upgr_icon_x			= 1724 ; 8
upgr_icon_y			= 802 ; 593
upgr_icon_width		= 167 ; 294
upgr_icon_height   	= 159 ; 83

kill_msg_x              = 80
kill_msg_y              = 59
kill_msg_width          = 87
kill_msg_height         = 24

;-------------------------------------------------------------------------------
position					= -0.027, -0.097, 0.042
orientation				= 0, -2, 0

fire_point					= 0, 0.158, 0.845
fire_point2				= 0, 0.097, 0.722

flame_particles         = weapons\generic_weapon05
smoke_particles         = weapons\generic_shoot_00
grenade_flame_particles = weapons\generic_weapon01

shell_point				= -0.02,0.167,0.082
shell_dir					= 0, 0, 0.4
shell_particles	 			= weapons\762x54l

;--STRAP PARAMETERS-----------------------------------------------------------------
;под мишкой
strap_position          = -0.26,-0.11,0.25                                ; position (offset) and orientation of the weapon when it is strapped
strap_orientation       = -15,-9,110                                        ; (3rd person view in degrees)
strap_bone0             = bip01_spine2
strap_bone1             = bip01_spine1

startup_ammo            = 90
visual                  = dynamics\weapons\wpn_pkm\wpn_pkm.ogf

light_disabled                                = false
light_color             = 0.6,0.5,0.3
light_range             = 5
light_var_color         = 0.05
light_var_range         = 0.5
light_time              = 0.2

ph_mass                 = 4

;addons
scope_status            = 0
silencer_status         = 0
grenade_launcher_status = 0

zoom_enabled            = true ; false            ; (on,off)zoom mode (right mouse button)
zoom_rotate_time        = 0.25 ;0.5
scope_zoom_factor = 1.1

;silencer_flame_particles	= weapons\generic_weapon01
silencer_smoke_particles	= weapons\generic_shoot_00

silencer_light_color		= 0.6,0.5,0.3
silencer_light_range    	= 0.01
silencer_light_var_color	= 0.05
silencer_light_var_range	= 0.5
silencer_light_time		= 0.2


[wpn_pkm_hud]:hud_base
zoom_hide_crosshair     		= true
attach_place_idx        		= 0
item_visual             		= dynamics\weapons\wpn_pkm\wpn_pkm_hud.ogf

hands_position				= -0.064,-0.18,0.14
hands_orientation			= 2,2,0
hands_position_16x9			= -0.064,-0.18,0.14
hands_orientation_16x9			= 2,2,0

item_position				= 0,0,0
item_orientation			= 0,0,0

aim_hud_offset_pos 			= -0.0959,0.054,-0.1
aim_hud_offset_rot 			= 0.04,0.035,0.0
aim_hud_offset_pos_16x9 		= -0.0959,0.054,-0.1
aim_hud_offset_rot_16x9 		= 0.04,0.035,0.0

shell_point				= 0,0,0
shell_dir       			= 0,1,0
shell_bone				= gilza

fire_point				= 0,0,0
fire_bone      				= muzzle
fire_point2				= 0,0,0
fire_bone2				= wpn_body

anm_show             			= pkm_draw
anm_hide             			= pkm_holster
anm_idle             			= pkm_idle
anm_idle_sprint         		= pkm_idle_sprint
anm_idle_moving 			= pkm_idle_moving
anm_idle_moving_crouch			= pkm_idle_crouch
anm_shots               		= pkm_shoot, shoot
anm_reload              		= pkm_reload, reload
anm_reload_empty        		= pkm_reload, reload
anm_idle_aim           			= pkm_idle_aim
anm_bore				= pkm_idle_aim

gl_hud_offset_pos 			= 0,0,0
gl_hud_offset_rot 			= 0,0,0

gl_hud_offset_pos_16x9 			= 0,0,0
gl_hud_offset_rot_16x9 			= 0,0,0

lean_hud_offset_pos			= 0,0,0
lean_hud_offset_rot			= 0,0,0

;-----------------------------------------------------------------------------
[wpn_pkm_nimble]:wpn_pkm
$spawn                      	= "weapons\uniq\wpn_pkm_nimble"

description             	= st_wpn_pkm_nimble_descr
inv_name                	= st_wpn_pkm_nimble

installed_upgrades      	= up_fiftha_pkm

hit_power              		= 0.85, 0.85, 0.85, 0.85
bullet_speed            	= 840
rpm                     	= 680

ammo_elapsed            	= 200
ammo_mag_size           	= 200

hud                     	= wpn_pkm_nimble_hud

misfire_start_condition		= 0.7
misfire_end_condition		= 0.25
misfire_start_prob              = 0.01 
misfire_end_prob                = 0.1 
condition_shot_dec      	= 0.00045
condition_queue_shot_dec	= 0.00045

cost                    	= 150000

inv_weight              	= 7.6

zoom_cam_relax_speed         = 10	    ; scope & ironsight
zoom_cam_relax_speed_ai      = 360
zoom_cam_dispersion          = 0.7  
zoom_cam_dispersion_inc      = 1 
zoom_cam_dispersion_frac     = 1.0
zoom_cam_max_angle           = 50.0
zoom_cam_max_angle_horz      = 50.0
zoom_cam_step_angle_horz     = 1.93

inv_grid_y           		= 50

visual                  	= dynamics\weapons\wpn_pkm\wpn_pkm_nimble.ogf

[wpn_pkm_nimble_hud]:wpn_pkm_hud
zoom_hide_crosshair        	= true
attach_place_idx        	= 0
item_visual                	= dynamics\weapons\wpn_pkm\wpn_pkm_nimble_hud.ogf

hands_position			= -0.044,-0.17,0.14
hands_orientation		= 2,2,0
hands_position_16x9		= -0.044,-0.17,0.14
hands_orientation_16x9		= 2,2,0

aim_hud_offset_pos 		= -0.1159,-0.01,-0.1
aim_hud_offset_rot 		= -0.015,0.035,0.0
aim_hud_offset_pos_16x9 	= -0.1159,-0.01,-0.1
aim_hud_offset_rot_16x9 	= -0.015,0.035,0.0
;-----------------------------------------------------------------------------
[wpn_pkp]:wpn_pkm
$spawn                                             = "weapons\pkp"
cost                                               = 130000
description                                        = st_wpn_pkp_descr
fire_dispersion_base                               = 0.23
fire_distance = 1000;                                      = 1000
hud                                                = wpn_pkp_hud

misfire_start_condition		= 0.7
misfire_end_condition		= 0.25
misfire_start_prob              = 0.01 
misfire_end_prob                = 0.1 
condition_shot_dec      	= 0.00043
condition_queue_shot_dec	= 0.00043
hit_power              		= 0.83, 0.83, 0.83, 0.83

inv_grid_width     = 6
inv_grid_height    = 2
inv_grid_x         = 44
inv_grid_y         = 48

inv_name                                           = st_wpn_pkp
inv_name_short                                     = st_wpn_pkp
inv_weight                                         = 8.8

snd_shoot               = weapons\pkp\pkp_shoot
snd_shoot1              = weapons\pkp\pkp_shoot1
snd_shoot2              = weapons\pkp\pkp_shoot2
snd_shoot3              = weapons\pkp\pkp_shoot3

visual                                             = dynamics\weapons\wpn_pkm\wpn_pkp.ogf

[wpn_pkp_hud]:wpn_pkm_hud
aim_hud_offset_pos                                 = -0.096,0.053,-0.1
aim_hud_offset_pos_16x9                            = -0.096,0.053,-0.1
aim_hud_offset_rot                                 = 0.026,0.035,0
aim_hud_offset_rot_16x9                            = 0.026,0.035,0
item_visual                                        = dynamics\weapons\wpn_pkm\wpn_pkp_hud.ogf